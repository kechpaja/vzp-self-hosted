Start optimizing stuff, and figure out how to emit LLVM!

Remember to use ulimit to set stack size limit, and --stack-size to node as
well. Currently it works with a stack size of 5000 kb, but I'd like to try and
bring this down to where I don't have to up the limit anymore.


One thing we eventually need to do is re-configure the tokenizer so that a
program of the form

let f = +
f(1,2)

is regarded as acceptable. Basically, this means not automatically deleting the
semicolon after + when it's preceded by =, but it's a low-priority change
because you can get around it easily by putting the + in parentheses.



For typechecking: 

Imports are handled, but it might be a good idea to allow for linking to files
that aren't going to be included in the binary or JS output. Need to think
about how to make sure we get the type information we need. 

Remove typechecking from corefuncs once more of these problems are solved. For
now, it's not safe to do so.

In the long run, we can probably get rid of the corefuncs file entirely, and
just generate lightweight functions for the builtings when they are used in a
context where they can't be emited as operators in JS or LLVM.

Semi-tangentially, we need to think about the syntax for user-defined types a
bit more. There's some room for variation there, but also no need to go too far
overboard. 

If the typechecker can catch and reject (some) infinite loops, that would be
useful.  



For transform: the algorithm needs to be re-thought, since it currently fails
for a number of cases (not yet represented in the tests) in which there are
several nested layers of ifs, lets, and other constructions in a lettable
position.


For defunc: consider not putting references to builtin functions into closure.

For transform, consider not duplicating code in conditionals, as it can make
the program grow immensely. 

In general, we also have to think about whether we need short circuiting at
all. The answer is probably no, but the current parser depends on short
circuiting, so I can't take it out until later. I'm currently leaning towards
saying that whether booleans operators short circuit is not defined and should
not be counted on for control flow. 


Maybe eventually complain if there are unreachable tokens in the file?


There are also a handful of syntactic changes that I would like to implement at
some point, but those need to be batched as they will require a fair bit of
work on my part to change things in the compiler. For now, the ones I'm
thinking of are:

 - The + operator should no longer be overloaded. Add ++ or something like that
   for lists.

 - Array access should no longer use :. Consider either more traditional syntax
   or treating arrays as callable on integers; the latter may be preferable
   since it allows us to use $ and other functions.

 - Require a comma between the second and third arguments of @> and <@.

 - More that I can't think of right now.
